/*! jQuery ellipsis - v1.1.0 - 2013-11-26
* https://github.com/STAR-ZERO/jquery-ellipsis
* Copyright (c) 2013 Kenji Abe; Licensed MIT */
!function(t){t.fn.ellipsis=function(l){var a={row:1,onlyFullWords:!1,"char":"...",callback:function(){},position:"tail"};return l=t.extend(a,l),this.each(function(){var a=t(this),i=a.text(),e=i,r=e.length,o=a.height();a.text("a");var h=parseFloat(a.css("lineHeight"),10),c=a.height(),s=h>c?h-c:0,n=s*(l.row-1)+c*l.row;if(n>=o)return a.text(i),void l.callback.call(this);var f=1,u=0,v=i.length;if("tail"===l.position){for(;v>f;)u=Math.ceil((f+v)/2),a.text(i.slice(0,u)+l["char"]),a.height()<=n?f=u:v=u-1;if(i=i.slice(0,f),l.onlyFullWords)for(var x=i.length-1;x>0;x--){var d=i[x];if(i=i.slice(0,x)," "==d)break}i+=l["char"]}else if("middle"===l.position){for(var g=0;v>f;)u=Math.ceil((f+v)/2),g=Math.max(r-u,0),a.text(e.slice(0,Math.floor((r-g)/2))+l["char"]+e.slice(Math.floor((r+g)/2),r)),a.height()<=n?f=u:v=u-1;g=Math.max(r-f,0);var M=e.slice(0,Math.floor((r-g)/2)),p=e.slice(Math.floor((r+g)/2),r);l.onlyFullWords&&(M=M.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),i=M+l["char"]+p}a.text(i),l.callback.call(this)}),this}}(jQuery);